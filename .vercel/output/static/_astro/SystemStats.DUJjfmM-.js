import{j as e}from"./jsx-runtime.EKYJJIwR.js";import{r as o}from"./index.F28aNuxU.js";const b=()=>{const[t,l]=o.useState({tps:0,blockHeight:0,networkStatus:0,epoch:0}),[m,r]=o.useState(!0);if(o.useEffect(()=>{const s=async()=>{try{const a=await(await fetch("https://api.mainnet-beta.solana.com",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"getRecentPerformanceSamples",params:[1]})})).json(),x=await(await fetch("https://api.mainnet-beta.solana.com",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"getSlot"})})).json(),p=await(await fetch("https://api.mainnet-beta.solana.com",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"getEpochInfo"})})).json();if(a.result&&a.result[0]){const i=a.result[0],n=Math.round(i.numTransactions/i.samplePeriodSecs);l({tps:n,blockHeight:x.result||0,networkStatus:n>1e3?95:n>500?75:50,epoch:p.result?.epoch||0})}r(!1)}catch(c){console.error("Failed to fetch Solana stats:",c),l({tps:Math.floor(Math.random()*3e3)+2e3,blockHeight:284912847+Math.floor(Math.random()*1e3),networkStatus:95,epoch:742}),r(!1)}};s();const u=setInterval(s,5e3);return()=>clearInterval(u)},[]),m)return e.jsxs("div",{className:"bento-card h-full p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("span",{className:"font-mono text-xs uppercase tracking-wider text-warm-gold",children:"System_Stats"}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"size-2 animate-pulse rounded-full bg-cyan-glow"}),e.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:"Loading"})]})]}),e.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(s=>e.jsx("div",{className:"h-12 animate-pulse rounded bg-muted/30"},s))})]});const d=s=>new Intl.NumberFormat("en-US").format(s);return e.jsxs("div",{className:"bento-card h-full p-6",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-warm-gold text-lg",children:"âš¡"}),e.jsx("span",{className:"font-mono text-sm font-bold uppercase tracking-wider text-foreground",children:"Solana Network"})]}),e.jsxs("span",{className:"flex items-center gap-2 rounded-full bg-cyan-glow/10 px-3 py-1",children:[e.jsx("span",{className:"status-online size-2 rounded-full bg-cyan-glow"}),e.jsx("span",{className:"font-mono text-xs font-medium text-cyan-glow",children:"Live"})]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"rounded-lg bg-muted/20 p-4",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("span",{className:"font-mono text-xs font-medium text-muted-foreground",children:"Network Health"}),e.jsx("span",{className:"rounded-md bg-cyan-glow/20 px-2 py-0.5 font-mono text-xs font-bold text-cyan-glow",children:t.networkStatus>=90?"HEALTHY":t.networkStatus>=70?"GOOD":"FAIR"})]}),e.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-muted",children:e.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-warm-gold to-cyan-glow transition-all duration-500",style:{width:`${t.networkStatus}%`}})})]}),e.jsxs("div",{className:"rounded-lg bg-muted/20 p-4",children:[e.jsxs("div",{className:"mb-2 flex items-baseline justify-between",children:[e.jsx("span",{className:"font-mono text-xs font-medium text-muted-foreground",children:"Transactions/Sec"}),e.jsx("span",{className:"font-mono text-2xl font-bold tabular-nums text-warm-gold",children:d(t.tps)})]}),e.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-muted",children:e.jsx("div",{className:"h-full rounded-full bg-warm-gold transition-all duration-500",style:{width:`${Math.min(t.tps/5e3*100,100)}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"rounded-lg bg-muted/20 p-4",children:[e.jsx("div",{className:"mb-1 font-mono text-xs font-medium text-muted-foreground",children:"Epoch"}),e.jsx("div",{className:"font-mono text-xl font-bold tabular-nums text-foreground",children:t.epoch})]}),e.jsxs("div",{className:"rounded-lg bg-muted/20 p-4",children:[e.jsx("div",{className:"mb-1 font-mono text-xs font-medium text-muted-foreground",children:"Block Height"}),e.jsx("div",{className:"font-mono text-sm font-bold tabular-nums text-foreground",children:d(t.blockHeight)})]})]})]})]})};export{b as default};
